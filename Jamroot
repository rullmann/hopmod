
lib enet : 
    src/enet/host.c
    src/enet/list.c
    src/enet/callbacks.c
    src/enet/packet.c
    src/enet/peer.c
    src/enet/protocol.c
    src/enet/unix.c
    src/enet/win32.c
    : <link>static <include>src/enet/include
    <define>HAS_GETHOSTBYADDR_R
    <define>HAS_GETHOSTBYNAME_R
    <define>HAS_POLL
    <define>HAS_FCNTL
    <define>HAS_INET_PTON
    <define>HAS_INET_NTOP 
    <define>HAS_MSGHDR_FLAGS 
    <define>HAS_SOCKLEN_T 
     
     ;

lib z : : <name>z ;
lib lua : : <name>lua ;
lib dl : : <name>dl ;

use-project /fungu : src/fungu ;

build-project src/hopmod/test ; # test programs for hopmod's standalone features

exe server : 
    src/shared/tools.cpp
    src/engine/server.cpp
    src/fpsgame/fpsserver.cpp
    src/hopmod/floodprotection.cpp
    src/hopmod/scripting.cpp
    src/hopmod/script_bindings.cpp
    enet
    z
    lua
    dl
    /fungu//script
    : <define>STANDALONE <define>FUNGU_WITH_LUA <include>src/shared <include>src/enet/include <include>src/fungu/include <include>src/hopmod ;

install dist : server : <location>bin ;
